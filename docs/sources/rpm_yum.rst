================
rpm和yum学习笔记
================

.. contents::

yum
===

注意yum命令不区分大小写，例如有一个软件包集合名为Fonts，那么可以使用
yum groupinstall fonts 来安装。

常用选项
--------

- -v 详细模式

- -y 对于任何问题，回答均为'y'

- -nogpgcheck 不进行GPG检测

- --showduplicates显示同一软件的不同版本

安装软件
--------

yum install ...

其中的...可以为：

- foo，表示安装软件包foo

- @foo，表示安装软件包集合foo，相当于'yum groupinstall foo'

- foo.rpm，表示安装本地文件foo.rpm

- 如果不能明确地匹配任何软件包，则将其看作包含通配符，会安装所有匹配的软件包，例如'yum install ema*'会安装所有名字以'ema'开头的软件包

卸载软件
--------

卸载软件可以使用remove子命令或者erase子命令，作用相同

yum remove foo

  卸载foo以及所有依赖于它的软件包

yum groupremove foo

  卸载foo软件包集合

更新软件
--------

yum update

  升级整个系统

yum update foo

  升级foo，如果foo没有安装，则yum不会安装它

查询软件
--------

yum search foo
  在名称和描述中查找与foo相关的包

yum provides foofile
  查询哪个软件包包含foofile这个文件，注意foofile一般用通配符，例如

  ::

    yum provides '*/fc-cache'

  会查询哪个软件包包含fc-cache这个文件

yum info foo
  查询foo软件包的详细信息

yum grouplist foo
  列出名称与foo匹配的软件包集合

yum groupinfo foo
  显示foo软件包集合的详细信息

list命令选项
............

list命令提供了软件包的某一个子集里操作的命令，包括：

- all       所有已安装和未安装的软件包
- installed 已安装软件包
- available 未安装软件包
- updates   可升级软件包
- extras    已安装软件包中不属于软件包集合的（例如手动安装的第三方软件包）
- obsoletes 已过期软件包
- recent    最近添加到软件库中的软件包

例如：

- yum list all 所有已安装和未安装的软件包（相当于yum list）
- yum list foo 名称与foo匹配的软件包
- yum list installed 列出所有已安装软件包
- yum list installed foo 列出在所有已安装软件包名称与foo匹配的软件包

其他命令
--------

- yum repolist

  显示仓库列表，可以和-v选项连用显示更详细的内容，并且会显示未启用的仓库

- yum deplist foo

  列出foo软件包所依赖的文件以及提供此文件的软件包

- yum clean all

  清除所有缓存

rpm
===

常用选项：

-i 即install，安装软件包
-v 详细模式
-U 升级
-e 卸载
-q 查询

rpm -i foo.rpm

rpm list foo    查询foo软件包的完整名称
rpm -q foo

rpm -ql foo
  查询foo软件包包含哪些文件

rpm -e foo

rpm -U foo.rpm
  如果没有安装foo，则安装整个包，如果安装了则升级
rpm -F foo.rpm
  只有在foo安装的情况下才升级

安装未签名的rpm软件包
=====================
使用 --nogpgcheck 选项
