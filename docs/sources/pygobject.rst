===================
 pygobject学习笔记
===================

.. contents ::

参考文档
========

pygobject目前还没有完善的文档，需要时可以参考以下文档


- pygobject入门教程

  http://python-gtk-3-tutorial.readthedocs.org/en/latest/index.html

- gtk+手册

  http://developer.gnome.org/gtk3/stable/

- PyGObject手册

  http://developer.gnome.org/pygobject/2.14/index.html

Gtk+手册上的函数和变量名称的转换规则
====================================

- 不清楚时可以先google代码，例如不清楚函数set_position的参数时可以
  google：

  ::

    "from gi.repository import Gtk set_position"。

- 枚举

  注意pygobject中的枚举的最后一部分一定是大写，最后一部分如果由几个单词
  组成，则用下划线连接。

  ::

    Gtk.WindowPosition.CENTER

  ::

    typedef enum {
      GTK_WIN_POS_NONE,
      GTK_WIN_POS_CENTER,
      GTK_WIN_POS_MOUSE,
      GTK_WIN_POS_CENTER_ALWAYS,
      GTK_WIN_POS_CENTER_ON_PARENT
    } GtkWindowPosition;

  ::

    Gdk.EventType.BUTTON_PRESS

  ::

    typedef enum {
      GDK_NOTHING		= -1,
      GDK_DELETE		= 0,
      GDK_DESTROY		= 1,
      GDK_EXPOSE		= 2,
      GDK_MOTION_NOTIFY = 3,
      GDK_BUTTON_PRESS = 4,
      GDK_2BUTTON_PRESS = 5,
      GDK_3BUTTON_PRESS = 6,
      GDK_BUTTON_RELEASE = 7,
      GDK_KEY_PRESS		= 8,
      GDK_KEY_RELEASE = 9,
      GDK_ENTER_NOTIFY = 10,
      GDK_LEAVE_NOTIFY = 11,
      GDK_FOCUS_CHANGE = 12,
      GDK_CONFIGURE		= 13,
      GDK_MAP		= 14,
      GDK_UNMAP		= 15,
      GDK_PROPERTY_NOTIFY = 16,
      GDK_SELECTION_CLEAR = 17,
      GDK_SELECTION_REQUEST = 18,
      GDK_SELECTION_NOTIFY = 19,
      GDK_PROXIMITY_IN = 20,
      GDK_PROXIMITY_OUT = 21,
      GDK_DRAG_ENTER        = 22,
      GDK_DRAG_LEAVE        = 23,
      GDK_DRAG_MOTION       = 24,
      GDK_DRAG_STATUS       = 25,
      GDK_DROP_START        = 26,
      GDK_DROP_FINISHED     = 27,
      GDK_CLIENT_EVENT = 28,
      GDK_VISIBILITY_NOTIFY = 29,
      GDK_SCROLL            = 31,
      GDK_WINDOW_STATE      = 32,
      GDK_SETTING           = 33,
      GDK_OWNER_CHANGE      = 34,
      GDK_GRAB_BROKEN       = 35,
      GDK_DAMAGE            = 36,
      GDK_TOUCH_BEGIN       = 37,
      GDK_TOUCH_UPDATE      = 38,
      GDK_TOUCH_END         = 39,
      GDK_TOUCH_CANCEL      = 40,
      GDK_EVENT_LAST        /* helper variable for decls */
    } GdkEventType;  

- Gtk手册中有些函数有new_with_label()，在python中可以去掉new_with_label。

  Gtk.Button('button 1') 相当于 Gtk.Button.new_with_button('button 1')

- Gtk手册中的的命名规则。

  - 信号名都是以::开头的，多个词之间用-链接
  - 属性都是以:开头的。  


Tree and List Widgets
=====================

Gtk.TreeView
Gtk.ListView

Gtk.TreeModel
Gtk.ListModel

Gtk.TreeStore
Gtk.ListStore

----

Gtk.TreeIter
Gtk.TreePath

----

Gtk.CellRender
Gtk.TreeViewColumn

----

Gtk.TreeSelection
Gtk.TreeSortable


注意事项&小技巧
===============

- pressed 信号和 clicked 信号不一样，鼠标点击会触发这两个信号，但如果只
  用键盘的话只能触发 clicked 信号。

.. - 让listview自动选中一行

..   ::

..     self.listview.get_selection().set_mode(Gtk.SelectionMode.BROWSE)

- entry也有'changed'信号    
