===================
emacs使用技巧
===================

- 绑定按键时按键的表示方法

  当不知道一个按键如何表示时，可以先用C-h c看看这个按键/按键组合的表示方法，然后将其作为向量方式表示的按键进行绑定。

  例如，我想绑定ctrl alt f5到grep-find这个命令，首先查看这个按键组合的表示方法以及已经绑定到的函数，按下C-h c，接着再按下这个按键组合，emacs会显示

  ::

    <M-S-f5> is undefined

  说明这个按键组合可以表示为<M-S-f5>，而且还未绑定。

  接下来我们使用其中的"M-S-f5"

  ::

    (global-set-key [M-S-f5] 'grep-find)

  就绑定成功了，按照这种方法可以绑定任意按键。


- 指定当前文件的编码格式

  ::

    C-x <RET> r (即M-x revert-buffer-with-coding-system)

- 将当前文件存储为另一种编码格式

  ::

    C-x <RET> f (即M-x set-buffer-file-coding-system)

- 将当前行置顶

  ::

    M-0 C-l

- 将当前行置底

  ::

    M-- C-l

- 将kill-ring中的内容作为欲搜索的内容

  ::

    C-s M-e C-y

- 设置连续几个按键的快捷键

  ::

    (global-set-key "\C-xrq" 'delete-whitespace-rectangle)

- 正则表达式替换操作

  ::

    C-M-s regexp M-%

- 将一个文本块全部都缩进到统一的缩进位置

  第一种方法：选中文本块，包括文本块的下一行，将这一行到缩进的位置，按 C-x r o

  第二种方法：选中需要缩进的文本行，按 M-n C-x tab， 这将文本缩进n个空格的位置。

- 光标移动技巧

  M-r 动到屏幕中间行的行首，前缀为0表示移动到屏幕顶端，为负表示移动到屏幕底端。

- 正则表达式搜索

  正向C-M-s

  逆向C-M-r

- 正则表达式替换技巧

  第一种方法：用C-M-s搜索到结果，然后按M-%。

  第二种方法：

    ::

      M-x replace-regexp

- 正则表达式替换空行

  搜索时用 C-q C-j C-q C-j代表两个连续的换行，然后用 C-q C-j 替换。

- 对一个区域中的每一行执行宏

  用F3和F4定义一个宏，然后用 F4 执行一次命令（在宏的定义中可以不用出现换行的操作）选中一个区域，执行 C-x C-k r。

- 搜索特定帮助的技巧

  C-h f 和 C-h v 后可以使用通配符来匹配。例如输入 C-h v 后输入*read*，然后再按tab 补全，就可以显示所有包含read的变量。

- apropos 命令后可以使用正则表达式来匹配。
