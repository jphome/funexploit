================
rsync学习笔记
================

.. contents::

用法
====

rsync SOURCE DESTINATION

rsync是一款用于文件同步的软件，可以从本机到本机，或者从本机到网络上的机
子，或者从网络上的机子到本机。但不能从网络上的一台机子到网络上的另一台
机子。

注意：如果SOURCE是一个目录，那么这个目录最后加或者不加'/'的效果是不一样的。
假如有a/x.c和b/y.c ::

  ~/tmp$ rsync -a a b/ && tree b
  b
  |-- a
  |   `-- x.c
  `-- y.c

  1 directory, 2 files


  ~/tmp$ rsync -a a/ b/ && tree b
  b
  |-- x.c
  `-- y.c

  0 directories, 2 files


选项
====

-a 相当于-rlptgoD，会保留符号链接、设备、属性、权限和所有者等等。

-v 详细模式。

-n 测试模式，并不进行实际的同步。一般和 -v 模式配合，可以显示实际将要进行的动作。

-u 如果目标文件夹里有相同的文件且比较新，则跳过这个文件，而不会将其覆盖。

-r 递归模式。

-z 压缩模式，主要用于在网络上传送时。

我自己的应用
============

自动更新网站

rsync -avPz --delete ~/pro/web_htdocs/html/ USER_NAME,PROJECT_NAME@web.sourceforge.net:htdocs/

自动备份

rsync -avur --files-from=~/etc/rsync/filelist.txt / /mnt/hgfs/linux/

