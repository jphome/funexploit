

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>python 学习笔记 &mdash; funexploit 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="funexploit 1.0 documentation" href="../index.html" />
    <link rel="prev" title="portage 软件包管理系统学习笔记" href="portage.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="portage.html" title="portage 软件包管理系统学习笔记"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">funexploit 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="python">
<h1><a class="toc-backref" href="#id15">python 学习笔记</a><a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h1>
<p>&lt;funexploit at gmail.com&gt;</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#python" id="id15">python 学习笔记</a><ul>
<li><a class="reference internal" href="#learning-python" id="id16">Learning Python</a><ul>
<li><a class="reference internal" href="#id1" id="id17">动态变量类型</a><ul>
<li><a class="reference internal" href="#id2" id="id18">变量类型</a></li>
<li><a class="reference internal" href="#id3" id="id19">共享引用和原地修改</a></li>
<li><a class="reference internal" href="#id4" id="id20">两种相等比较</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5" id="id21">数字</a><ul>
<li><a class="reference internal" href="#repr-strprint" id="id22">repr,str和print</a></li>
<li><a class="reference internal" href="#id6" id="id23">数字和字符串之间的相互转换</a></li>
<li><a class="reference internal" href="#id7" id="id24">布尔类型</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8" id="id25">字符串</a></li>
<li><a class="reference internal" href="#id9" id="id26">列表</a></li>
<li><a class="reference internal" href="#id10" id="id27">字典</a></li>
<li><a class="reference internal" href="#id11" id="id28">元组</a></li>
</ul>
</li>
<li><a class="reference internal" href="#programming-python" id="id29">Programming Python</a><ul>
<li><a class="reference internal" href="#files" id="id30">files</a></li>
<li><a class="reference internal" href="#tips" id="id31">tips</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id12" id="id32">盲点</a><ul>
<li><a class="reference internal" href="#id13" id="id33">生成器、迭代器</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id14" id="id34">帮助系统</a><ul>
<li><a class="reference internal" href="#doc" id="id35">__doc__</a></li>
<li><a class="reference internal" href="#help" id="id36">help()</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="learning-python">
<h2><a class="toc-backref" href="#id16">Learning Python</a><a class="headerlink" href="#learning-python" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id17">动态变量类型</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id2">
<h4><a class="toc-backref" href="#id18">变量类型</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>在某一时刻，python中的变量只是对一个对象的引用，变量本身的类型是可以
随时改变的，即引用一个不同类型的对象。</li>
<li>类型是与对象相关联的，而不是变量。</li>
<li>每个对象有2个重要的头部信息：类型和引用计数器。</li>
</ul>
</div>
<div class="section" id="id3">
<h4><a class="toc-backref" href="#id19">共享引用和原地修改</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L2</span> <span class="o">=</span> <span class="n">L1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L3</span> <span class="o">=</span> <span class="n">L1</span><span class="p">[:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L1</span>
<span class="go">[5, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L2</span>
<span class="go">[5, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L3</span>
<span class="go">[2, 3, 4]</span>
</pre></div>
</div>
<p>L1和L2引用同一对象，而L3则是L1的复制。</p>
<p>在标准库中的copy模块有复制任一对象的功能。</p>
</div>
<div class="section" id="id4">
<h4><a class="toc-backref" href="#id20">两种相等比较</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>is 和 ==</p>
<p>如果2个变量引用同一对象的话则是is，如果仅仅是这2个变量的值相等，但是不
引用同一对象，那么它们只是==而不是is。</p>
<p>sys模块的getrefcount会返回一个对象被引用的次数。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">getrefcount</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">353</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">getrefcount</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="go">11</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id21">数字</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="section" id="repr-strprint">
<h4><a class="toc-backref" href="#id22">repr,str和print</a><a class="headerlink" href="#repr-strprint" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span>
<span class="go">0.3333333333333333</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="go">&#39;0.3333333333333333&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="go">&#39;0.333333333333&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="go">0.333333333333</span>
</pre></div>
</div>
<p>默认的打印方式(即不使用print)内部是使用repr，如果使用print打印的话则是
使用str。</p>
</div>
<div class="section" id="id6">
<h4><a class="toc-backref" href="#id23">数字和字符串之间的相互转换</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">oct</span><span class="p">(</span><span class="mi">19</span><span class="p">),</span><span class="nb">hex</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
<span class="go">(&#39;023&#39;, &#39;0xff&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="s">&#39;0100&#39;</span><span class="p">),</span><span class="nb">int</span><span class="p">(</span><span class="s">&#39;023&#39;</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span><span class="nb">int</span><span class="p">(</span><span class="s">&#39;0xff&#39;</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span>
<span class="go">(100, 19, 255)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">eval</span><span class="p">(</span><span class="s">&#39;100&#39;</span><span class="p">),</span><span class="nb">eval</span><span class="p">(</span><span class="s">&#39;0100&#39;</span><span class="p">),</span><span class="nb">eval</span><span class="p">(</span><span class="s">&#39;0x40&#39;</span><span class="p">)</span>
<span class="go">(100, 64, 64)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&quot;</span><span class="si">%o</span><span class="s"> </span><span class="si">%x</span><span class="s"> </span><span class="si">%X</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">64</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>
<span class="go">&#39;100 ff FF&#39;</span>
</pre></div>
</div>
<p>oct,hex将数字转换为相应进制的字符串</p>
<p>int()将字符串按照指定格式转换为数字，</p>
<p>eval计算表达式(是一个字符串)，相当于将字符串转换为数字</p>
<p>格式化表达式&#8221;%&#8221;可以将数字转换为字符串</p>
<p>浮点数运算时会出现精度问题，可以使用小数模块代替Decimal</p>
</div>
<div class="section" id="id7">
<h4><a class="toc-backref" href="#id24">布尔类型</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>True,False</p>
<p>实际上是int类型的一个子集，不过重载了repr和print方法，打印时显示为True和False</p>
</div>
</div>
<div class="section" id="id8">
<h3><a class="toc-backref" href="#id25">字符串</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>python中没有单个的字符类型，只有字符串类型。</p>
<p>python中的单引号和双引号可以互换，即使字符串中包含有转义字符。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;a</span><span class="se">\n</span><span class="s">b</span><span class="se">\t</span><span class="s">c&quot;</span><span class="p">)</span>
<span class="go">a</span>
<span class="go">b       c</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&#39;a</span><span class="se">\n</span><span class="s">b</span><span class="se">\t</span><span class="s">c&#39;</span><span class="p">)</span>
<span class="go">a</span>
<span class="go">b       c</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id26">列表</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id10">
<h3><a class="toc-backref" href="#id27">字典</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id11">
<h3><a class="toc-backref" href="#id28">元组</a><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="programming-python">
<h2><a class="toc-backref" href="#id29">Programming Python</a><a class="headerlink" href="#programming-python" title="Permalink to this headline">¶</a></h2>
<div class="section" id="files">
<h3><a class="toc-backref" href="#id30">files</a><a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h3>
<p>打开文件时如果用&#8217;w&#8217;标志，那么如果文件存在的话会删除里面的内容，小心。</p>
<p>write()和writeline()不会在写入的内容后面加&#8217;n&#8217;，而print会。</p>
<p>为什么print(&#8216;abc&#8217;, end=&#8221;n&#8221;)不能运行
为什么print(&#8216;ab&#8217;,)可以运行，而且结尾不会自动加&#8217;n&#8217;</p>
</div>
<div class="section" id="tips">
<h3><a class="toc-backref" href="#id31">tips</a><a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h3>
<p>os.getcwd()返回当前工作目录。sys.path的值则是可导入模块的目录组成的列表，
包括当前脚本所在的目录。如果在一个脚本中同时运行这两个函数，这两个值并
不相同，当调用脚本时的目录不同于脚本文件所在的目录时。</p>
<p>sys.exc_info()返回最近的异常。traceback模块也可以。</p>
<p>内置的type()可以检查一个对象的类型。</p>
<p>与操作系统相关的标准模块主要有两个，即sys和os，前者主要是与python解释器
相关的，后者则包括与操作系统的其他内容。</p>
<p>shelves模块提供了按索引来从文件中存取对象的功能。</p>
<p>glib.glob(&#8216;=.c&#8217;)函数会返回当前目录下所有与&#8217;=.c&#8217;匹配的文件</p>
<p>input()从标准输入读入一个字符串。</p>
<p>可以将一个打开的文件对象赋值给sys.stdin，以后所有的标准输入就会从这个文件中读取。</p>
<p>dict_obj.items()函数以一个类似于集合的形式返回对象中的元素</p>
<p>pprint模块可以以更美观的方式显示一个对象。</p>
<p>map在python3中成了一个生成器</p>
<p>sum是一个内建函数</p>
<p>pydoc builtins会显示所有内建的函数、变量等等等等</p>
<p>str是内建的一个模块
string是标准库中的一个模块</p>
<p>print函数会自动在行尾加一个&#8217;n&#8217;。
python中是区分大小写的</p>
<p>repr()将一个对象转换成字符串
ord()将一个字符转换成相应的ascii值
chr()同上，作用相反</p>
<dl class="docutils">
<dt>eval可以将字符串当作可执行代码对待，然后计算出结果</dt>
<dd>eval(&#8220;[1, 2, 3]&#8221;) =&gt; [1, 2, 3]</dd>
</dl>
<p>pickle模块可以在在文件中存取原生态的数据
struct模块可以处理二进制数据</p>
<p>range(-5, 5) =&gt; [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4]</p>
<p>print和str函数会优先选用对象的__str__方法。如果没有__str__方法，则会使
用__repr__方法。__repr__应该返回一个字符串，这个字符串可以作为可执行代
码去重建该对象。而repr函数则只使用__repr__方法。repr主要用户交互环境，
例如在python命令行中直接输入一个对象，则会调用它的__repr__方法。</p>
<p>dictionary在赋值时如果索引是字符串，可以不加引号，前面需要加dict，并且
圆括号需要变成括号，里面的冒号改成等于号。例如mydict =
dict{name=&#8217;zhangsan&#8217;, age=14}</p>
<p>zip(obj1, obj2……）返回一个zip对象，其中的每个子对象是一个元组，每个元
组由zip参数中的各个对象提供。例如zip([1, 2, 3] [4, 5, 6])={1: 4, 2: 5,
3: 6}</p>
<p>[x for x in ...]，式中的第一个x也可以是一个表达式，例如下面的x就是一个
列表，而且里面还可以包含if和else等等。</p>
<p>[(rec[&#8216;age&#8217;] == 2 if rec[&#8216;age&#8217;] &gt;= 45 else rec[&#8216;age&#8217;]) for rec in people]</p>
</div>
</div>
<div class="section" id="id12">
<h2><a class="toc-backref" href="#id32">盲点</a><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id13">
<h3><a class="toc-backref" href="#id33">生成器、迭代器</a><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>可迭代对象、迭代工具、迭代环境、迭代协议</p>
<p>生成器是实现迭代器的一种简便的方法。</p>
<p>生成器：生成器实际上就是一个普通的函数，这个函数返回一个迭代器。这种函
数不使用return语句返回值，而是使用一个yield语句返回值，而且在每返回一个
值后这个函数就会暂停，直到使用返回的迭代器的__next__()方法重新调用时，
这个函数又会接着从刚才暂停的地方继续运行，然后用yield返回一个值后再次暂
停。</p>
<p>for i in obj: ;
=&gt; iter(obj)
=&gt; __iter__(obj) == obj.__iter__()</p>
<p>迭代器的工作原理：</p>
<p>在一个迭代环境下，</p>
<p>第一步：迭代工具（例如for）在内部运行时会把可迭代对象传递给内置的
iter()函数，即iter(obj)，而iter()函数内部运行时又会调用__iter__()函数，
即__iter__(obj)。</p>
<p>第二步：可以分为两种情况：</p>
<p>第一种情况：这个函数在内部会调用返回一个迭代器，接着会调用这个迭代器的
next方法，并且捕捉StopInteration异常来 确定何时停止迭代。（为什么只能定
义next()方法，而定义__next__()不行）</p>
<p>第二种情况：将__iter__()函数本身写成一个生成器，__iter__()每次用yield返
回一个值并暂停，当迭代协议自动调用返回的生成器的__next__()方法
时，__iter__()又会从刚才暂停的地方继续执行。</p>
<dl class="docutils">
<dt>class myclass_2:</dt>
<dd><dl class="first last docutils">
<dt>def __init__(self, start, stop):</dt>
<dd>self.start = start - 1
self.stop = stop</dd>
<dt>def __iter__(self):</dt>
<dd><dl class="first last docutils">
<dt>while self.start &lt; self.stop:</dt>
<dd>self.start += 1
yield self.start = 2</dd>
</dl>
</dd>
</dl>
</dd>
<dt>for element in myclass_2(1, 5):</dt>
<dd>print(element)</dd>
</dl>
</div>
</div>
<div class="section" id="id14">
<h2><a class="toc-backref" href="#id34">帮助系统</a><a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<div class="section" id="doc">
<h3><a class="toc-backref" href="#id35">__doc__</a><a class="headerlink" href="#doc" title="Permalink to this headline">¶</a></h3>
<p>dir(str) == dir(&#8216;&#8217;)                     内置类型
dir(list) == dir([])
dir(hash) == dir({})</p>
<p>dir(sys)                                        模块的变量和函数列表
print(sys.__doc__)                      模块格式化过后的
print(sys.stdin.__doc__)        模块里的变量
print(sys.exit.__doc__)         模块里的函数</p>
</div>
<div class="section" id="help">
<h3><a class="toc-backref" href="#id36">help()</a><a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h3>
<p>help命令以man方式全屏显示帮助信息。</p>
<p>help(ord)                                       内置函数</p>
<p>help(str)                                       内置类型的全部文档
help(str.encode)                        内置类型的函数</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">python 学习笔记</a><ul>
<li><a class="reference internal" href="#learning-python">Learning Python</a><ul>
<li><a class="reference internal" href="#id1">动态变量类型</a><ul>
<li><a class="reference internal" href="#id2">变量类型</a></li>
<li><a class="reference internal" href="#id3">共享引用和原地修改</a></li>
<li><a class="reference internal" href="#id4">两种相等比较</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">数字</a><ul>
<li><a class="reference internal" href="#repr-strprint">repr,str和print</a></li>
<li><a class="reference internal" href="#id6">数字和字符串之间的相互转换</a></li>
<li><a class="reference internal" href="#id7">布尔类型</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">字符串</a></li>
<li><a class="reference internal" href="#id9">列表</a></li>
<li><a class="reference internal" href="#id10">字典</a></li>
<li><a class="reference internal" href="#id11">元组</a></li>
</ul>
</li>
<li><a class="reference internal" href="#programming-python">Programming Python</a><ul>
<li><a class="reference internal" href="#files">files</a></li>
<li><a class="reference internal" href="#tips">tips</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id12">盲点</a><ul>
<li><a class="reference internal" href="#id13">生成器、迭代器</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id14">帮助系统</a><ul>
<li><a class="reference internal" href="#doc">__doc__</a></li>
<li><a class="reference internal" href="#help">help()</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="portage.html"
                        title="previous chapter">portage 软件包管理系统学习笔记</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/sources/python.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="portage.html" title="portage 软件包管理系统学习笔记"
             >previous</a> |</li>
        <li><a href="../index.html">funexploit 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, jff.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>